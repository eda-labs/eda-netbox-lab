---
srl_leaf_template: &srl_leaf_template
  labels:
    eda.nokia.com/security-profile: managed
    eda.nokia.com/role: leaf
  spec:
    operatingSystem: srl
    platform: 7220 IXR-D2L
    version: 25.7.2
    nodeProfile: srlinux-ghcr-25.7.2

srl_spine_template: &srl_spine_template
  labels:
    eda.nokia.com/security-profile: managed
    eda.nokia.com/role: spine
  spec:
    operatingSystem: srl
    platform: 7220 IXR-D3L
    version: 25.7.2
    nodeProfile: srlinux-ghcr-25.7.2

interswitch_labels: &interswitch_labels
  eda.nokia.com/role: interSwitch

edge_labels: &edge_labels
  eda.nokia.com/role: edge

items:
  - spec:
      nodes:
        - name: leaf1
          <<: *srl_leaf_template
        - name: leaf2
          <<: *srl_leaf_template
        - name: spine1
          <<: *srl_spine_template
        - name: spine2
          <<: *srl_spine_template

      links:
        - name: leaf1-spine1
          labels:
            <<: *interswitch_labels
          spec:
            links:
              - type: interSwitch
                local:
                  node: leaf1
                  interface: ethernet-1-49
                remote:
                  node: spine1
                  interface: ethernet-1-1

        - name: leaf1-spine2
          labels:
            <<: *interswitch_labels
          spec:
            links:
              - type: interSwitch
                local:
                  node: leaf1
                  interface: ethernet-1-50
                remote:
                  node: spine2
                  interface: ethernet-1-1

        - name: leaf2-spine1
          labels:
            <<: *interswitch_labels
          spec:
            links:
              - type: interSwitch
                local:
                  node: leaf2
                  interface: ethernet-1-49
                remote:
                  node: spine1
                  interface: ethernet-1-2

        - name: leaf2-spine2
          labels:
            <<: *interswitch_labels
          spec:
            links:
              - type: interSwitch
                local:
                  node: leaf2
                  interface: ethernet-1-50
                remote:
                  node: spine2
                  interface: ethernet-1-2

        - name: leaf1-server1
          labels:
            <<: *edge_labels
          spec:
            links:
              - type: edge
                local:
                  node: leaf1
                  interface: ethernet-1-1
                remote:
                  node: server1
                  interface: eth1

        - name: leaf2-server2
          labels:
            <<: *edge_labels
          spec:
            links:
              - type: edge
                local:
                  node: leaf2
                  interface: ethernet-1-1
                remote:
                  node: server2
                  interface: eth1
